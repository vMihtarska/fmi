Претърсване на директорно дърво с текстови файлове за даден низ

Дадена е директорно дърво, в което има:
1. Поддиректории на произволна дълбочина.
2. Тестови файлове, пръснати из поддиректориите.
Даден е символен низ. Да се обходят всички файлове в директорното дърво, и да се изведе на конзолата всеки ред, който съдържа дадения низ, предшестван от името на файла и номерът му в този файл.

1. Задължително е да се използва шаблонът производител-потребител.
2. Производителят чете файла ред по ред. За всеки ред той доставя в склада по един продукт.
3. Потребителят търси дадения низ в продукти, взети от склада.
4. Решението трябва да използва много нишки-производители и много нишки-потребители.
5. Складът трябва да има максимален размер, напр. 1000 продукта. Ако складът бъде запълнен, производителите трябва да чакат.

Експериментирайте с различни бройки на нишките-производители и нишките-потребители и намерете оптималните за Вашия компютър. Двете оптимални бройки зависят ли една от друга?

Подсказки:
1. Решаването на задачата, дадена в края на лекцията по основи на многонишковото програмиране, ще Ви помогне много.
2. За да тествате програмата си за производителност може да използвате голямо директорно дърво, което да съдържа и нетекстови файлове. Просто приемете, че всички са текстови.
